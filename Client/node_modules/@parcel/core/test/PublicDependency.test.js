// @flow strict-local

import assert from 'assert';
import {createEnvironment} from '@parcel/core/src/Environment';
import {createDependency} from '@parcel/core/src/Dependency';
import {getPublicDependency} from '@parcel/core/src/public/Dependency';
import {DEFAULT_OPTIONS} from '@parcel/core/test/test-utils';

describe('Public Dependency', () => {
  it('returns the same public Dependency given an internal dependency', () => {
    let internalDependency = createDependency('/', {
      specifier: 'foo',
      specifierType: 'esm',
      env: createEnvironment({}),
    });

    assert.equal(
      getPublicDependency(internalDependency, DEFAULT_OPTIONS),
      getPublicDependency(internalDependency, DEFAULT_OPTIONS),
    );
  });
});
