import { walk } from 'css-tree';
import Atrule from 'csso/lib/clean/Atrule.js';
import Comment from 'csso/lib/clean/Comment.js';
import Declaration from 'csso/lib/clean/Declaration.js';
import Raw from 'csso/lib/clean/Raw.js';
import Rule from 'csso/lib/clean/Rule.js';
import TypeSelector from 'csso/lib/clean/TypeSelector.js';
import WhiteSpace from 'csso/lib/clean/WhiteSpace.js';

const handlers = {
    Atrule,
    Comment,
    Declaration,
    Raw,
    Rule,
    TypeSelector,
    WhiteSpace
};

export default function(ast, options) {
    walk(ast, {
        leave(node, item, list) {
            if (handlers.hasOwnProperty(node.type)) {
                handlers[node.type].call(this, node, item, list, options);
            }
        }
    });
};
