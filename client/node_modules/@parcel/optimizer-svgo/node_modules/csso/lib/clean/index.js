var walk = require('css-tree').walk;
var handlers = {
    Atrule: require('csso/lib/clean/Atrule'),
    Comment: require('csso/lib/clean/Comment'),
    Declaration: require('csso/lib/clean/Declaration'),
    Raw: require('csso/lib/clean/Raw'),
    Rule: require('csso/lib/clean/Rule'),
    TypeSelector: require('csso/lib/clean/TypeSelector'),
    WhiteSpace: require('csso/lib/clean/WhiteSpace')
};

module.exports = function(ast, options) {
    walk(ast, {
        leave: function(node, item, list) {
            if (handlers.hasOwnProperty(node.type)) {
                handlers[node.type].call(this, node, item, list, options);
            }
        }
    });
};
